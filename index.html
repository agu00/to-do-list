<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="to-do-list.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.2/js/all.js"></script>

    <title>To Do List</title>
</head>
<body>

    <div id="container">
        <input type="text">
        <button type="submit">Add to the list</button>
        <p></p>
        <h3>To do list</h3>
        <ul>
        </ul>
    </div>
    
    <script>

       var newTask = document.querySelector("input");
       var submit = document.querySelector("button");
       var list = document.querySelector("ul");
       var advice = document.querySelector("p");


       function addToList() {
        
            var li_task = document.createElement("li");  
            var textNode = document.createTextNode(newTask.value);
            
            // time
            var date = new Date();
            var time = date.getDate() + "/" + (date.getMonth()+1) + "/" + date.getFullYear(); 
            var showDate = document.createElement("span");
            showDate.innerText = time + " ";

            // image
            var xImage = document.createElement("img");
                xImage.setAttribute("src", "x.png");

            var space = document.createTextNode(" ");
            
            // create list element

            if (newTask.value == "" || newTask.value == " ") {
                advice.innerHTML = "Please name the new task.";
            } else {
                list.appendChild(li_task);
                li_task.setAttribute("class", "todo-element");
                li_task.appendChild(textNode);
                li_task.appendChild(space);
                li_task.appendChild(showDate);
                li_task.appendChild(xImage);

                advice.innerHTML = "";
            }
            
       };

       // remove list element
        list.addEventListener("click", function(e) {
            e.target.closest(".todo-element").remove();
        });

        // bring the button to life
        submit.addEventListener("click", addToList);
       
    </script>

</body>
</html>